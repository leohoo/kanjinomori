# 漢字学習ゲームアプリ 設計仕様書

## 1. プラットフォーム / Framework
- **フレームワーク:** Flutter
- **対象:** iOS / Android
- **対応端末:** スマホ・タブレット
- **特徴:** 画面サイズに応じて自動レイアウト調整、片手操作に対応

---

## 2. ゲーム構造・フロー
1. **ステージ構成**
   - 1ステージ = 10問
   - 問題タイプ: 読み or 書き
   - 枝分かれ道（2つのルート）を選択しながら進む

2. **コインルール**
   - 1問正解 → 5コイン
   - 10問全問正解 → ボーナス10コイン
   - ステージ全問正解時合計: 60コイン

3. **最後のボスバトル**
   - ステージ最後にバトル
   - プレイヤーと敵は「アタック」「シールド」「ジャンプ」の操作が可能
   - 敵も同様に攻撃・防御・ジャンプを行う

---

## 3. ステージデザイン
- **テーマ:** 森の扉
- **分岐:** 道は枝分かれ（2つ）
- **演出:** 扉の前で正解すると扉が開き、光・蝶・鳥のアニメ演出
- **問題:** 書き問題は扉前で漢字を書く、読み問題は選択肢ボタンで回答

---

## 4. バトルデザイン
### 操作ボタン（片手用）
- **アタック:** 右下
- **ジャンプ:** アタックボタンの上
- **シールド:** アタックボタンの左
- **特徴:** 指で押しやすい大きさ、半透明で森の景色を隠さない

### バトル仕様
- 漢字正解で攻撃力アップ・特別演出発動
- 敵もアタック・シールド・ジャンプを使い、リアルタイムで戦略性が生まれる
- 漢字問題と関係ない演出も可能（森の魔法・小動物・光の演出）
- 勝利条件: 敵HPを0にする
- 報酬: コイン + 宝箱演出 + 次ステージアンロック

---

## 5. コイン・ショップ
- **武器:** 木の杖（初級）、弓矢（中級）、魔法の剣（上級）
- **装飾:** 森の背景、扉周りの飾り
- **衣装:** キャラクター服・帽子
- **演出:** ごほうびアニメーション購入
- **コイン表示:** 常時画面上部に表示

---

## 6. 漢字問題
- **形式:** 読み or 書き
- **問題数:** 1ステージ10問
- **コイン報酬:** 正解で5コイン、全問正解で追加10コイン
- **管理方法:** JSONまたはDBに保存（漢字、読み、正解値、コイン数）

---

## 7. ユーザー体験（UX）
- 直感的で片手操作可能
- 正解すると派手な演出、間違えてもストレスなしで次へ
- 漢字学習とアクションバトルを自然に組み合わせる
- 繰り返しプレイで武器・装飾・演出を集める楽しみ

---

## 8. 画面構成図（UIレイアウト）

### ホーム画面
- タイトル
- ステージ選択ボタン
- 所持コイン表示
- ショップボタン

### ステージ画面
- 森の小道（枝分かれ）
- ステージ進行バー（10問中）
- 森の扉（問題ポイント）
- 所持コイン表示

### 問題画面
- 問題タイプ表示（読み/書き）
- 書き問題 → 漢字入力欄
- 読み問題 → 選択肢ボタン
- 正解演出（扉が開く、光、蝶や鳥）
- コイン獲得表示

### バトル画面
- ボスキャラ表示
- プレイヤーキャラ表示
- 操作ボタン（アタック/ジャンプ/シールド）
- HPバー（プレイヤー/敵）
- 攻撃・防御・ジャンプ演出
- コイン獲得・ボーナス演出

### ショップ画面
- 武器購入コーナー
- 装飾購入コーナー
- 衣装購入コーナー
- アニメーション演出購入コーナー
- 所持コイン表示

---

## 9. ステート遷移図（ゲームフロー）

